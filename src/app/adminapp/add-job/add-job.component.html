<!-- Back to Dashboard Button -->
<button (click)="goBackHome()" class="back-home-button">
  ⬅️ Back to Dashboard
</button>

<div class="add-job-container">
  <h2>Add Job Post</h2>

  <!-- Form Start -->
  <form [formGroup]="jobForm" (ngSubmit)="addJob()">

    <!-- Job Title -->
    <label for="title">Job Title:</label>
    <input 
      type="text" 
      id="title" 
      formControlName="title" 
      placeholder="Enter job title" 
      [class.invalid]="jobForm.controls['title'].invalid && jobForm.controls['title'].touched" 
      required
    >
    <div *ngIf="jobForm.controls['title'].invalid && jobForm.controls['title'].touched" class="error">
      Job Title is required.
    </div>

    <!-- Job Description -->
    <label for="description">Job Description:</label>
    <textarea 
      id="description" 
      formControlName="description" 
      placeholder="Enter job description" 
      [class.invalid]="jobForm.controls['description'].invalid && jobForm.controls['description'].touched" 
      required
    ></textarea>
    <div *ngIf="jobForm.controls['description'].invalid && jobForm.controls['description'].touched" class="error">
      Job Description is required.
    </div>

    <!-- Minimum Salary -->
    <label for="salary_min">Minimum Salary:</label>
    <input 
      type="number" 
      id="salary_min" 
      formControlName="salary_min" 
      placeholder="Enter minimum salary" 
      [class.invalid]="jobForm.controls['salary_min'].invalid && jobForm.controls['salary_min'].touched" 
      required
    >
    <div *ngIf="jobForm.controls['salary_min'].invalid && jobForm.controls['salary_min'].touched" class="error">
      Minimum Salary is required.
    </div>

    <!-- Maximum Salary -->
    <label for="salary_max">Maximum Salary:</label>
    <input 
      type="number" 
      id="salary_max" 
      formControlName="salary_max" 
      placeholder="Enter maximum salary" 
      [class.invalid]="jobForm.controls['salary_max'].invalid && jobForm.controls['salary_max'].touched" 
      required
    >
    <div *ngIf="jobForm.controls['salary_max'].invalid && jobForm.controls['salary_max'].touched" class="error">
      Maximum Salary is required.
    </div>

    <!-- Industry Dropdown -->
    <label for="industry">Industry:</label>
    <select 
      id="industry" 
      formControlName="industry_id" 
      (change)="onIndustryChange($event)" 
      [class.invalid]="jobForm.controls['industry_id'].invalid && jobForm.controls['industry_id'].touched" 
      required
    >
      <option value="" disabled selected>Select an Industry</option>
      <option *ngFor="let industry of industries" [value]="industry.id">{{ industry.name }}</option>
    </select>
    <div *ngIf="jobForm.controls['industry_id'].invalid && jobForm.controls['industry_id'].touched" class="error">
      Please select an Industry.
    </div>

    <!-- Role Dropdown -->
    <label for="role">Role:</label>
    <select 
      id="role" 
      formControlName="role_id" 
      [class.invalid]="jobForm.controls['role_id'].invalid && jobForm.controls['role_id'].touched" 
      required
    >
      <option value="" disabled selected>Select a Role</option>
      <option *ngFor="let role of roles" [value]="role.id">{{ role.name }}</option>
    </select>
    <div *ngIf="jobForm.controls['role_id'].invalid && jobForm.controls['role_id'].touched" class="error">
      Please select a Role.
    </div>

    <!-- Submit Button -->
    <button 
      type="submit" 
      [disabled]="jobForm.invalid" 
      class="submit-button"
    >
      Add Job
    </button>

  </form>
</div>
